<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trading Signal - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 500px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        button {
            background: #4CAF50;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            margin: 10px;
            width: 100%;
        }
        button:disabled {
            background: #cccccc;
            cursor: not-allowed;
        }
        .status {
            margin: 20px 0;
            padding: 10px;
            border-radius: 5px;
            font-size: 14px;
        }
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        .hidden {
            display: none;
        }
        .debug {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            margin-top: 20px;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #e9ecef;
        }
        .key-display {
            background: #e7f3ff;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 12px;
            word-break: break-all;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîî Trading Signal</h1>
        <p>–ü—Ä–æ—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</p>
        
        <button id="connectButton" onclick="connectNotifications()">
            üîî –ü–æ–¥–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        </button>
        
        <div id="status" class="status hidden"></div>
        <div id="keyDisplay" class="key-display hidden"></div>

        <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee;">
            <button onclick="sendTestNotification()" style="background: #007bff;">
                üìß –¢–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            </button>
            <button onclick="checkServerConnection()" style="background: #6c757d;">
                üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
            </button>
            <button onclick="clearDebug()" style="background: #dc3545;">
                üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥
            </button>
        </div>

        <div class="debug">
            <strong>–õ–æ–≥ –æ—Ç–ª–∞–¥–∫–∏:</strong>
            <div id="debug"></div>
        </div>
    </div>

    <script>
        const SERVER_URL = 'http://192.168.0.114:5000';
        let currentDeviceKey = 'BFd0MIKD3d76Yyz1hR__qvFKsD8c7erPBK9N2t1DxRKEAIA6dMZQozLCOCZzg7tv3JwyEg6SY5Nl2lJgOa9Stdc';

        function debugLog(message, type = 'info') {
            const debugDiv = document.getElementById('debug');
            const timestamp = new Date().toLocaleTimeString();
            const color = type === 'error' ? 'color: red;' : type === 'success' ? 'color: green;' : 'color: blue;';
            debugDiv.innerHTML += `<div style="${color}">${timestamp}: ${message}</div>`;
            debugDiv.scrollTop = debugDiv.scrollHeight;
            console.log(`[${type.toUpperCase()}] ${message}`);
        }

        function showStatus(message, type) {
            const statusDiv = document.getElementById('status');
            statusDiv.textContent = message;
            statusDiv.className = `status ${type}`;
        }

        function showKeyInfo(key) {
            currentDeviceKey = key;
            const keyDiv = document.getElementById('keyDisplay');
            keyDiv.innerHTML = `<strong>–ö–ª—é—á —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:</strong><br><code>${key}</code>`;
            keyDiv.className = 'key-display';
        }

        function clearDebug() {
            document.getElementById('debug').innerHTML = '';
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º
        async function checkServerConnection() {
            debugLog('=== –ü–†–û–í–ï–†–ö–ê –°–ï–†–í–ï–†–ê ===', 'info');
            
            try {
                debugLog(`–ü–æ–ø—ã—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫: ${SERVER_URL}`, 'info');
                
                const startTime = Date.now();
                const response = await fetch(SERVER_URL + '/api/debug', {
                    method: 'GET',
                    headers: {
                        'Accept': 'application/json'
                    }
                });
                const responseTime = Date.now() - startTime;
                
                debugLog(`–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: ${responseTime}ms`, 'info');
                debugLog(`–°—Ç–∞—Ç—É—Å HTTP: ${response.status}`, 'info');
                
                if (response.ok) {
                    const data = await response.json();
                    debugLog(`‚úÖ –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç! –ü–æ–¥–ø–∏—Å–æ–∫: ${data.total_subscriptions || 0}`, 'success');
                    showStatus(`‚úÖ –°–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω (${responseTime}ms, ${data.total_subscriptions || 0} –ø–æ–¥–ø–∏—Å–æ–∫)`, 'success');
                } else {
                    throw new Error(`HTTP ${response.status}`);
                }
                
            } catch (error) {
                debugLog(`‚ùå –°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω: ${error.message}`, 'error');
                showStatus(`‚ùå –°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω: ${error.message}`, 'error');
                
                // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
                if (error.message.includes('Failed to fetch')) {
                    debugLog('üîß –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:', 'error');
                    debugLog('- –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω', 'error');
                    debugLog('- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π IP/–ø–æ—Ä—Ç', 'error');
                    debugLog('- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ CORS', 'error');
                    debugLog('- Firewall –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ', 'error');
                }
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª—é—á–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
        async function saveDeviceKey(deviceKey) {
            debugLog(`--- –°–û–•–†–ê–ù–ï–ù–ò–ï –ö–õ–Æ–ß–ê –ù–ê –°–ï–†–í–ï–† ---`, 'info');
            
            const payload = {
                device_key: deviceKey,
                type: 'browser_notification',
                user_agent: navigator.userAgent.substring(0, 100), // –æ–±—Ä–µ–∑–∞–µ–º –¥–ª–∏–Ω–Ω—ã–π UA
                timestamp: new Date().toISOString(),
                platform: navigator.platform,
                screen: `${screen.width}x${screen.height}`,
                language: navigator.language
            };

            debugLog(`–û—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ: ${JSON.stringify(payload, null, 2)}`, 'info');

            try {
                debugLog(`–û—Ç–ø—Ä–∞–≤–∫–∞ POST –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ ${SERVER_URL}/api/subscribe`, 'info');
                
                const response = await fetch(SERVER_URL + '/api/subscribe', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify(payload)
                });

                debugLog(`–°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞: ${response.status}`, 'info');
                debugLog(`–°—Ç–∞—Ç—É—Å —Ç–µ–∫—Å—Ç: ${response.statusText}`, 'info');

                if (!response.ok) {
                    let errorText = '–ù–µ—Ç –¥–µ—Ç–∞–ª–µ–π –æ—à–∏–±–∫–∏';
                    try {
                        errorText = await response.text();
                    } catch (e) {
                        errorText = '–ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ—á–∏—Ç–∞—Ç—å –æ—Ç–≤–µ—Ç';
                    }
                    throw new Error(`HTTP ${response.status}: ${errorText}`);
                }

                let result;
                try {
                    result = await response.json();
                    debugLog(`–û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞: ${JSON.stringify(result)}`, 'success');
                } catch (e) {
                    debugLog('‚ö†Ô∏è –°–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—Ç–∏–ª, –Ω–æ –Ω–µ –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ', 'warning');
                    result = { status: 'unknown' };
                }

                debugLog('‚úÖ –ö–ª—é—á —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ!', 'success');
                return result;

            } catch (error) {
                debugLog(`‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–ª—é—á–∞: ${error.message}`, 'error');
                
                // –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—à–∏–±–æ–∫
                if (error.message.includes('NetworkError') || error.message.includes('Failed to fetch')) {
                    debugLog('üîß –ü—Ä–æ–±–ª–µ–º–∞ —Å–µ—Ç–∏:', 'error');
                    debugLog('- –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω', 'error');
                    debugLog('- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL', 'error');
                    debugLog('- CORS –ø–æ–ª–∏—Ç–∏–∫–∞', 'error');
                } else if (error.message.includes('500')) {
                    debugLog('üîß –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ 500:', 'error');
                    debugLog('- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞', 'error');
                    debugLog('- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö', 'error');
                }
                
                throw error;
            }
        }

        // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
        async function connectNotifications() {
            const button = document.getElementById('connectButton');
            
            debugLog('=== –ù–ê–ß–ê–õ–û –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–Ø –£–í–ï–î–û–ú–õ–ï–ù–ò–ô ===', 'info');

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
            if (!("Notification" in window)) {
                const errorMsg = '–ë—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è';
                debugLog(`‚ùå ${errorMsg}`, 'error');
                showStatus('‚ùå ' + errorMsg, 'error');
                return;
            }
            debugLog('‚úÖ –ë—Ä–∞—É–∑–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è', 'success');

            try {
                button.disabled = true;
                button.textContent = '–ó–∞–ø—Ä–∞—à–∏–≤–∞—é —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ...';
                showStatus('', 'hidden');

                debugLog('1. –ó–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è...', 'info');

                // –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
                const permission = await Notification.requestPermission();
                debugLog(`2. –†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø—Ä–æ—Å–∞: ${permission}`, 'info');

                if (permission === "granted") {
                    debugLog('‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–æ!', 'success');

                    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
                    const deviceKey = 'device_' + Date.now() + '_' + Math.random().toString(36).substr(2, 8);
                    debugLog(`3. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∫–ª—é—á: ${deviceKey}`, 'success');
                    showKeyInfo(deviceKey);

                    button.textContent = '–°–æ—Ö—Ä–∞–Ω—è—é –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä...';

                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä
                    try {
                        await saveDeviceKey(deviceKey);
                        debugLog('4. –ö–ª—é—á —Å–æ—Ö—Ä–∞–Ω–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ', 'success');
                    } catch (error) {
                        debugLog(`4. ‚ö†Ô∏è –ö–ª—é—á –Ω–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç`, 'warning');
                        // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –¥–∞–∂–µ –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
                    }

                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                    debugLog('5. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ...', 'info');
                    showBrowserNotification("‚úÖ –£—Å–ø–µ—Ö!", "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω—ã! –ö–ª—é—á: " + deviceKey);

                    showStatus('‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã!', 'success');
                    button.textContent = '‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω—ã';
                    button.disabled = true;
                    button.style.background = '#28a745';

                    debugLog('=== –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï –£–°–ü–ï–®–ù–û –ó–ê–í–ï–†–®–ï–ù–û ===', 'success');

                } else {
                    const errorMsg = "–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø–æ–ª—É—á–µ–Ω–æ";
                    debugLog(`‚ùå ${errorMsg}`, 'error');
                    showStatus('‚ùå ' + errorMsg, 'error');
                    button.disabled = false;
                    button.textContent = 'üîî –ü–æ–¥–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è';
                }

            } catch (error) {
                const errorMsg = "–û—à–∏–±–∫–∞: " + error.message;
                debugLog(`‚ùå ${errorMsg}`, 'error');
                showStatus('‚ùå ' + errorMsg, 'error');
                button.disabled = false;
                button.textContent = 'üîî –ü–æ–¥–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è';
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showBrowserNotification(title, body) {
            if (Notification.permission === "granted") {
                try {
                    new Notification(title, { 
                        body: body,
                        tag: 'trading-signal',
                        requireInteraction: false
                    });
                    debugLog(`üì¢ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞–Ω–æ: "${title}"`, 'success');
                    return true;
                } catch (error) {
                    debugLog(`‚ùå –û—à–∏–±–∫–∞ –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: ${error.message}`, 'error');
                    return false;
                }
            }
            debugLog('‚ùå –ù–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è', 'error');
            return false;
        }

        // –¢–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function sendTestNotification() {
            debugLog('--- –¢–ï–°–¢–û–í–û–ï –£–í–ï–î–û–ú–õ–ï–ù–ò–ï ---', 'info');
            
            if (Notification.permission !== "granted") {
                showStatus('‚ùå –°–Ω–∞—á–∞–ª–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è', 'error');
                return;
            }

            const message = currentDeviceKey 
                ? `–¢–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ. –í–∞—à –∫–ª—é—á: ${currentDeviceKey}`
                : '–¢–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ';

            const success = showBrowserNotification("üìä –¢–µ—Å—Ç–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª", message);
            if (success) {
                showStatus('‚úÖ –¢–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞–Ω–æ!', 'success');
            } else {
                showStatus('‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ', 'error');
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            debugLog('üöÄ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞', 'info');
            debugLog(`URL —Å–µ—Ä–≤–µ—Ä–∞: ${SERVER_URL}`, 'info');
            debugLog(`User Agent: ${navigator.userAgent}`, 'info');
            debugLog(`Platform: ${navigator.platform}`, 'info');

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
            const permission = Notification.permission;
            debugLog(`–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π: ${permission}`, 'info');

            if (permission === "granted") {
                showStatus('‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —É–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã', 'success');
                document.getElementById('connectButton').textContent = '‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω—ã';
                document.getElementById('connectButton').disabled = true;
                document.getElementById('connectButton').style.background = '#28a745';
            } else if (permission === "denied") {
                showStatus('‚ùå –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±—Ä–∞—É–∑–µ—Ä–∞', 'error');
                document.getElementById('connectButton').disabled = true;
            }

            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            setTimeout(() => checkServerConnection(), 1000);
        });
    </script>
</body>
</html>
