<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trading Signal</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 50px;
            text-align: center;
        }
        button {
            background: #4CAF50;
            color: white;
            padding: 20px 40px;
            border: none;
            border-radius: 10px;
            font-size: 20px;
            cursor: pointer;
        }
        #status {
            margin-top: 20px;
            padding: 10px;
        }
    </style>
</head>
<body>
    <h1>üîî Trading Signal</h1>
    
    <button onclick="connectNotifications()">
        üîî –í–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    </button>
    
    <div id="status"></div>

    <script>
        async function connectNotifications() {
            const button = document.querySelector('button');
            const status = document.getElementById('status');
            
            // 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
            if (!("Notification" in window)) {
                status.innerHTML = "‚ùå –ë—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è";
                return;
            }
            
            try {
                button.disabled = true;
                button.textContent = "–ó–∞–ø—Ä–∞—à–∏–≤–∞—é —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ...";
                
                // 2. –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
                const permission = await Notification.requestPermission();
                
                if (permission === "granted") {
                    // 3. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                    new Notification("‚úÖ –£—Å–ø–µ—Ö!", {
                        body: "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–∫–ª—é—á–µ–Ω—ã!"
                    });
                    
                    status.innerHTML = "‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–∫–ª—é—á–µ–Ω—ã!";
                    button.textContent = "‚úÖ –ì–æ—Ç–æ–≤–æ";
                    
                } else {
                    status.innerHTML = "‚ùå –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–µ –ø–æ–ª—É—á–µ–Ω–æ";
                    button.disabled = false;
                    button.textContent = "üîî –í–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è";
                }
                
            } catch (error) {
                status.innerHTML = "‚ùå –û—à–∏–±–∫–∞: " + error.message;
                button.disabled = false;
                button.textContent = "üîî –í–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è";
            }
        }
    </script>
</body>
</html>
